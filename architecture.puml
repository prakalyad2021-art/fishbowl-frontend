@startuml Fishbowl_High_Level_Architecture
!theme aws-orange
skinparam linetype ortho
skinparam backgroundColor #FFFFFF
skinparam defaultFontSize 11
skinparam componentStyle rectangle

title Fishbowl Application - High-Level Architecture\nAWS Cloud Services Integration

' Frontend
rectangle "Client Layer" {
    component [React Frontend\nVite + React 19] as Frontend #4A90E2
    note right of Frontend
      **Modules:**
      - Fishbowl (Real-time)
      - Chatroom (Real-time)
      - Prompts
      - Media Feed
      - Journal
      - Calendar
      - Stats
    end note
}

' AWS Services Layer
rectangle "AWS Cloud Services" {
    
    rectangle "Hosting & CI/CD" {
        component [Amplify Hosting] as Hosting #FF9900
        component [Amplify Console] as Console #FF9900
    }
    
    rectangle "Authentication" {
        component [Cognito\nUser Pool] as Cognito #FF9900
        component [IAM] as IAM #FF9900
    }
    
    rectangle "API & Data" {
        component [AppSync\nGraphQL API] as AppSync #FF9900
        database "DynamoDB\n(10 Tables)" as DynamoDB #3F48CC
    }
    
    rectangle "Storage" {
        component [S3 Bucket\nMedia Files] as S3 #569A31
    }
    
    rectangle "Compute & Scheduling" {
        component [Lambda\nReminders] as Lambda #FF9900
        component [EventBridge\nScheduler] as EventBridge #FF9900
    }
    
    rectangle "Monitoring" {
        component [CloudWatch\nLogs] as CloudWatch #FF9900
    }
}

' User
actor User as user #FF6B6B

' Connections
user --> Frontend : "Access Application"
Frontend --> Hosting : "Deployed on"
Hosting --> Console : "Managed by"

Frontend --> Cognito : "Authentication"
Cognito --> IAM : "Credentials"
IAM --> AppSync : "Authorize"
IAM --> S3 : "Authorize"

Frontend --> AppSync : "GraphQL Queries\nMutations\nSubscriptions"
AppSync --> DynamoDB : "Data Operations"
AppSync ..> Frontend : "Real-time Updates\n(WebSocket)"

Frontend --> S3 : "Upload Media"
S3 --> Frontend : "Media URLs"

EventBridge --> Lambda : "Daily Trigger\n(9 AM UTC)"
Lambda --> AppSync : "Query Events"
Lambda --> CloudWatch : "Logs"

AppSync --> CloudWatch : "API Logs"
S3 --> CloudWatch : "Access Logs"
Cognito --> CloudWatch : "Auth Logs"

' Annotations
note top of AppSync
  **Real-time Features:**
  • User presence sync
  • Live chat messages
  • Instant mood updates
  • New post notifications
  • Calendar event updates
end note

note bottom of DynamoDB
  **Data Models:**
  User, Message, Mood,
  Prompt, PromptResponse,
  MediaPost, MediaComment,
  JournalEntry, CalendarEvent,
  UserStats
end note

note right of S3
  **Media Types:**
  • Photos
  • Videos
  • Audio
  • GIFs
  Identity-based paths
end note

legend right
  |= Color |= Component Type |
  |<#FF9900> | AWS Service |
  |<#4A90E2> | Frontend |
  |<#3F48CC> | Database |
  |<#569A31> | Storage |
  |--| Data Flow |
  |..| Real-time |
  |==| Scheduled |
endlegend

@enduml

